"use strict";function ajaxFailHandler(jqXHR,textStatus,errorThrown){var problem="",err=eval("("+jqXHR.responseText+")"),problemDetail="-";if(""!=err.message&&(problemDetail=err.message),0===jqXHR.status)problem="Not connect. Verify etwork.";else{if(401==jqXHR.status)return toastr.error("Session Expired","Error"),!1;if(404==jqXHR.status)problem="Resource not found.";else if(409==jqXHR.status)problem="Conflict.";else{if(419==jqXHR.status)return toastr.error("Session Expired","Error"),!1;if(422===jqXHR.status){var errors=JSON.parse(jqXHR.responseText),error_lists="";return $.each(errors,function(e,t){$.isPlainObject(t)&&$.each(t,function(e,t){error_lists+="<li>"+t+"</li>"})}),toastr.error(error_lists,"Error"),!1}problem=500==jqXHR.status?"Internal Server Error.":errorThrown}}toastr.error(`${jqXHR.status} - ${problem} - ${problemDetail}`,"Error")}!function(e,t,s){e.fn.fireModal=function(t){t=e.extend({size:"modal-md",center:!1,animation:!0,title:"Modal Title",closeButton:!0,header:!0,bodyClass:"",footerClass:"",body:"",buttons:[],autoFocus:!0,removeOnDismiss:!1,created:function(){},appended:function(){},onFormSubmit:function(){},modal:{}},t);this.each(function(){var a="fire-modal-"+ ++s,i="trigger--"+a;e("."+i);e(this).addClass(i);let o=t.body;if("object"==typeof o)if(o.length){let e=o;o=o.removeAttr("id").clone().removeClass("modal-part"),e.remove()}else o='<div class="text-danger">Modal part element not found!</div>';var n,l='   <div class="modal'+(1==t.animation?" fade":"")+'" tabindex="-1" role="dialog" id="'+a+'">       <div class="modal-dialog '+t.size+(t.center?" modal-dialog-centered":"")+'" role="document">         <div class="modal-content">  '+(1==t.header?'         <div class="modal-header">             <h5 class="modal-title">'+t.title+"</h5>  "+(1==t.closeButton?'           <button type="button" class="close" data-dismiss="modal" aria-label="Close">               <span aria-hidden="true">&times;</span>             </button>  ':"")+"         </div>  ":"")+'         <div class="modal-body">           </div>  '+(t.buttons.length>0?'         <div class="modal-footer">           </div>  ':"")+"       </div>       </div>    </div>  ";l=e(l);t.buttons.forEach(function(t){let s="id"in t?t.id:"";n='<button type="'+("submit"in t&&1==t.submit?"submit":"button")+'" class="'+t.class+'" id="'+s+'">'+t.text+"</button>",n=e(n).off("click").on("click",function(){t.handler.call(this,l)}),e(l).find(".modal-footer").append(n)}),e(l).find(".modal-body").append(o),t.bodyClass&&e(l).find(".modal-body").addClass(t.bodyClass),t.footerClass&&e(l).find(".modal-footer").addClass(t.footerClass),t.created.call(this,l,t);let r=e(l).find(".modal-body form"),d=l.find("button[type=submit]");if(e("body").append(l),t.appended.call(this,e("#"+a),r,t),r.length){t.autoFocus&&e(l).on("shown.bs.modal",function(){"boolean"==typeof t.autoFocus?r.find("input:eq(0)").focus():"string"==typeof t.autoFocus&&r.find(t.autoFocus).length&&r.find(t.autoFocus).focus()});let s={startProgress:function(){l.addClass("modal-progress")},stopProgress:function(){l.removeClass("modal-progress")}};r.find("button").length||e(r).append('<button class="d-none" id="'+a+'-submit"></button>'),d.click(function(){r.submit()}),r.submit(function(e){s.startProgress(),t.onFormSubmit.call(this,l,e,s)})}e(document).on("click","."+i,function(){let s=e("#"+a).modal(t.modal);return t.removeOnDismiss&&s.on("hidden.bs.modal",function(){s.remove()}),!1})})},e.destroyModal=function(e){e.modal("hide"),e.on("hidden.bs.modal",function(){})},e.cardProgress=function(t,s){s=e.extend({dismiss:!1,dismissText:"Cancel",spinner:!0,onDismiss:function(){}},s);var a=e(t);if(a.addClass("card-progress"),0==s.spinner&&a.addClass("remove-spinner"),1==s.dismiss){var i='<a class="btn btn-danger card-progress-dismiss">'+s.dismissText+"</a>";i=e(i).off("click").on("click",function(){a.removeClass("card-progress"),a.find(".card-progress-dismiss").remove(),s.onDismiss.call(this,a)}),a.append(i)}return{dismiss:function(t){e.cardProgressDismiss(a,t)}}},e.cardProgressDismiss=function(t,s){var a=e(t);a.removeClass("card-progress"),a.find(".card-progress-dismiss").remove(),s&&s.call(this,a)},e.chatCtrl=function(t,s){s=e.extend({position:"chat-right",text:"",time:moment((new Date).toISOString()).format("hh:mm"),picture:"",type:"text",timeout:0,onShow:function(){}},s);var a=e(t),i=(t='<div class="chat-item '+s.position+'" style="display:none"><img src="'+s.picture+'"><div class="chat-details"><div class="chat-text">'+s.text+'</div><div class="chat-time">'+s.time+"</div></div></div>",'<div class="chat-item chat-left chat-typing" style="display:none"><img src="'+s.picture+'"><div class="chat-details"><div class="chat-text"></div></div></div>'),o=t;"typing"==s.type&&(o=i),s.timeout>0?setTimeout(function(){a.find(".chat-content").append(e(o).fadeIn())},s.timeout):a.find(".chat-content").append(e(o).fadeIn());var n=0;a.find(".chat-content .chat-item").each(function(){n+=e(this).outerHeight()}),setTimeout(function(){a.find(".chat-content").scrollTop(n,-1)},100),s.onShow.call(this,o)}}(jQuery,0,0),window.Chart&&(Chart.defaults.global.defaultFontFamily="'Nunito', 'Segoe UI', 'Arial'",Chart.defaults.global.defaultFontSize=12,Chart.defaults.global.defaultFontStyle=500,Chart.defaults.global.defaultFontColor="#999",Chart.defaults.global.tooltips.backgroundColor="#000",Chart.defaults.global.tooltips.bodyFontColor="rgba(255,255,255,.7)",Chart.defaults.global.tooltips.titleMarginBottom=10,Chart.defaults.global.tooltips.titleFontSize=14,Chart.defaults.global.tooltips.titleFontFamily="'Nunito', 'Segoe UI', 'Arial'",Chart.defaults.global.tooltips.titleFontColor="#fff",Chart.defaults.global.tooltips.xPadding=15,Chart.defaults.global.tooltips.yPadding=15,Chart.defaults.global.tooltips.displayColors=!1,Chart.defaults.global.tooltips.intersect=!1,Chart.defaults.global.tooltips.mode="nearest"),window.Dropzone&&(Dropzone.autoDiscover=!1),$("[data-confirm]").each(function(){var me=$(this),me_data=me.data("confirm");me_data=me_data.split("|"),me.fireModal({title:me_data[0],body:me_data[1],buttons:[{text:me.data("confirm-text-yes")||"Yes",class:"btn btn-danger btn-shadow",handler:function(){eval(me.data("confirm-yes"))}},{text:me.data("confirm-text-cancel")||"Cancel",class:"btn btn-secondary",handler:function(modal){$.destroyModal(modal),eval(me.data("confirm-no"))}}]})}),$(function(){let sidebar_nicescroll_opts={cursoropacitymin:0,cursoropacitymax:.8,zindex:892},now_layout_class=null;var sidebar_sticky=function(){$("body").hasClass("layout-2")&&($("body.layout-2 #sidebar-wrapper").stick_in_parent({parent:$("body")}),$("body.layout-2 #sidebar-wrapper").stick_in_parent({recalc_every:1}))},sidebar_nicescroll;sidebar_sticky();var update_sidebar_nicescroll=function(){let e=setInterval(function(){null!=sidebar_nicescroll&&sidebar_nicescroll.resize()},10);setTimeout(function(){clearInterval(e)},600)},sidebar_dropdown=function(){$(".main-sidebar").length&&($(".main-sidebar").niceScroll(sidebar_nicescroll_opts),sidebar_nicescroll=$(".main-sidebar").getNiceScroll(),$(".main-sidebar .sidebar-menu li a.has-dropdown").off("click").on("click",function(){var e=$(this),t=!1;return e.parent().hasClass("active")&&(t=!0),$(".main-sidebar .sidebar-menu li.active > .dropdown-menu").slideUp(500,function(){return update_sidebar_nicescroll(),!1}),$(".main-sidebar .sidebar-menu li.active").removeClass("active"),1==t?(e.parent().removeClass("active"),e.parent().find("> .dropdown-menu").slideUp(500,function(){return update_sidebar_nicescroll(),!1})):(e.parent().addClass("active"),e.parent().find("> .dropdown-menu").slideDown(500,function(){return update_sidebar_nicescroll(),!1})),!1}),$(".main-sidebar .sidebar-menu li.active > .dropdown-menu").slideDown(500,function(){return update_sidebar_nicescroll(),!1}))};sidebar_dropdown(),$("#top-5-scroll").length&&$("#top-5-scroll").css({height:315}).niceScroll(),$(".main-content").css({minHeight:$(window).outerHeight()-108}),$(".nav-collapse-toggle").click(function(){return $(this).parent().find(".navbar-nav").toggleClass("show"),!1}),$(document).on("click",function(e){$(".nav-collapse .navbar-nav").removeClass("show")});var toggle_sidebar_mini=function(e){let t=$("body");e?(t.addClass("sidebar-mini"),t.removeClass("sidebar-show"),sidebar_nicescroll.remove(),sidebar_nicescroll=null,$(".main-sidebar .sidebar-menu > li").each(function(){let e=$(this);e.find("> .dropdown-menu").length?(e.find("> .dropdown-menu").hide(),e.find("> .dropdown-menu").prepend('<li class="dropdown-title pt-3">'+e.find("> a").text()+"</li>")):(e.find("> a").attr("data-toggle","tooltip"),e.find("> a").attr("data-original-title",e.find("> a").text()),$("[data-toggle='tooltip']").tooltip({placement:"right"}))})):(t.removeClass("sidebar-mini"),$(".main-sidebar").css({overflow:"hidden"}),setTimeout(function(){$(".main-sidebar").niceScroll(sidebar_nicescroll_opts),sidebar_nicescroll=$(".main-sidebar").getNiceScroll()},500),$(".main-sidebar .sidebar-menu > li > ul .dropdown-title").remove(),$(".main-sidebar .sidebar-menu > li > a").removeAttr("data-toggle"),$(".main-sidebar .sidebar-menu > li > a").removeAttr("data-original-title"),$(".main-sidebar .sidebar-menu > li > a").removeAttr("title"))};$("[data-toggle='sidebar']").click(function(){var e=$("body");return $(window).outerWidth()<=1024?(e.removeClass("search-show search-gone"),e.hasClass("sidebar-gone")?(e.removeClass("sidebar-gone"),e.addClass("sidebar-show")):(e.addClass("sidebar-gone"),e.removeClass("sidebar-show")),update_sidebar_nicescroll()):(e.removeClass("search-show search-gone"),e.hasClass("sidebar-mini")?toggle_sidebar_mini(!1):toggle_sidebar_mini(!0)),!1});var toggleLayout=function(){var e=$(window),t=$("body").attr("class")||"",s=t.trim().length>0?t.split(" "):"";if(s.length>0&&s.forEach(function(e){-1!=e.indexOf("layout-")&&(now_layout_class=e)}),e.outerWidth()<=1024){if($("body").hasClass("sidebar-mini")&&(toggle_sidebar_mini(!1),$(".main-sidebar").niceScroll(sidebar_nicescroll_opts),sidebar_nicescroll=$(".main-sidebar").getNiceScroll()),$("body").addClass("sidebar-gone"),$("body").removeClass("layout-2 layout-3 sidebar-mini sidebar-show"),$("body").off("click touchend").on("click touchend",function(e){($(e.target).hasClass("sidebar-show")||$(e.target).hasClass("search-show"))&&($("body").removeClass("sidebar-show"),$("body").addClass("sidebar-gone"),$("body").removeClass("search-show"),update_sidebar_nicescroll())}),update_sidebar_nicescroll(),"layout-3"==now_layout_class){let e=$(".navbar-secondary").attr("class"),t=$(".navbar-secondary");t.attr("data-nav-classes",e),t.removeAttr("class"),t.addClass("main-sidebar");let s=$(".main-sidebar");s.find(".container").addClass("sidebar-wrapper").removeClass("container"),s.find(".navbar-nav").addClass("sidebar-menu").removeClass("navbar-nav"),s.find(".sidebar-menu .nav-item.dropdown.show a").click(),s.find(".sidebar-brand").remove(),s.find(".sidebar-menu").before($("<div>",{class:"sidebar-brand"}).append($("<a>",{href:$(".navbar-brand").attr("href")}).html($(".navbar-brand").html()))),setTimeout(function(){sidebar_nicescroll=s.niceScroll(sidebar_nicescroll_opts),sidebar_nicescroll=s.getNiceScroll()},700),sidebar_dropdown(),$(".main-wrapper").removeClass("container")}}else{$("body").removeClass("sidebar-gone sidebar-show"),now_layout_class&&$("body").addClass(now_layout_class);let e=$(".main-sidebar").attr("data-nav-classes"),t=$(".main-sidebar");if("layout-3"==now_layout_class&&t.hasClass("main-sidebar")){t.find(".sidebar-menu li a.has-dropdown").off("click"),t.find(".sidebar-brand").remove(),t.removeAttr("class"),t.addClass(e);let s=$(".navbar-secondary");s.find(".sidebar-wrapper").addClass("container").removeClass("sidebar-wrapper"),s.find(".sidebar-menu").addClass("navbar-nav").removeClass("sidebar-menu"),s.find(".dropdown-menu").hide(),s.removeAttr("style"),s.removeAttr("tabindex"),s.removeAttr("data-nav-classes"),$(".main-wrapper").addClass("container")}else"layout-2"==now_layout_class?$("body").addClass("layout-2"):update_sidebar_nicescroll()}};toggleLayout(),$(window).resize(toggleLayout),$("[data-toggle='search']").click(function(){var e=$("body");e.hasClass("search-gone")?(e.addClass("search-gone"),e.removeClass("search-show")):(e.removeClass("search-gone"),e.addClass("search-show"))}),$("[data-toggle='tooltip']").tooltip(),$('[data-toggle="popover"]').popover({container:"body"}),jQuery().select2&&$(".select2").select2(),jQuery().selectric&&$(".selectric").selectric({disableOnMobile:!1,nativeOnMobile:!1}),$(".notification-toggle").dropdown(),$(".notification-toggle").parent().on("shown.bs.dropdown",function(){$(".dropdown-list-icons").niceScroll({cursoropacitymin:.3,cursoropacitymax:.8,cursorwidth:7})}),$(".message-toggle").dropdown(),$(".message-toggle").parent().on("shown.bs.dropdown",function(){$(".dropdown-list-message").niceScroll({cursoropacitymin:.3,cursoropacitymax:.8,cursorwidth:7})}),$(".chat-content").length&&($(".chat-content").niceScroll({cursoropacitymin:.3,cursoropacitymax:.8}),$(".chat-content").getNiceScroll(0).doScrollTop($(".chat-content").height())),jQuery().summernote&&($(".summernote").summernote({dialogsInBody:!0,minHeight:250}),$(".summernote-simple").summernote({dialogsInBody:!0,minHeight:150,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]})),window.CodeMirror&&$(".codeeditor").each(function(){CodeMirror.fromTextArea(this,{lineNumbers:!0,theme:"duotone-dark",mode:"javascript",height:200}).setSize("100%",200)}),$(".follow-btn, .following-btn").each(function(){var me=$(this),follow_text="Follow",unfollow_text="Following";me.click(function(){return me.hasClass("following-btn")?(me.removeClass("btn-danger"),me.removeClass("following-btn"),me.addClass("btn-primary"),me.html(follow_text),eval(me.data("unfollow-action"))):(me.removeClass("btn-primary"),me.addClass("btn-danger"),me.addClass("following-btn"),me.html(unfollow_text),eval(me.data("follow-action"))),!1})}),$("[data-dismiss]").each(function(){var e=$(this),t=e.data("dismiss");e.click(function(){return $(t).fadeOut(function(){$(t).remove()}),!1})}),$("[data-collapse]").each(function(){var e=$(this),t=e.data("collapse");e.click(function(){return $(t).collapse("toggle"),$(t).on("shown.bs.collapse",function(t){t.stopPropagation(),e.html('<i class="fas fa-minus"></i>')}),$(t).on("hidden.bs.collapse",function(t){t.stopPropagation(),e.html('<i class="fas fa-plus"></i>')}),!1})}),$(".gallery .gallery-item").each(function(){var e=$(this);e.attr("href",e.data("image")),e.attr("title",e.data("title")),e.parent().hasClass("gallery-fw")&&(e.css({height:e.parent().data("item-height")}),e.find("div").css({lineHeight:e.parent().data("item-height")+"px"})),e.css({backgroundImage:'url("'+e.data("image")+'")'})}),jQuery().Chocolat&&$(".gallery").Chocolat({className:"gallery",imageSelector:".gallery-item"}),$("[data-background]").each(function(){var e=$(this);e.css({backgroundImage:"url("+e.data("background")+")"})}),$("[data-tab]").each(function(){var e=$(this);e.click(function(){if(!e.hasClass("active")){$('[data-tab-group="'+e.data("tab")+'"]');var t=$('[data-tab-group="'+e.data("tab")+'"].active'),s=$(e.attr("href"));$('[data-tab="'+e.data("tab")+'"]').removeClass("active"),e.addClass("active"),s.addClass("active"),t.removeClass("active")}return!1})}),$(".needs-validation").submit(function(){var e=$(this);!1===e[0].checkValidity()&&(event.preventDefault(),event.stopPropagation()),e.addClass("was-validated")}),$(".alert-dismissible").each(function(){var e=$(this);e.find(".close").click(function(){e.alert("close")})}),$(".main-navbar").length,$("[data-crop-image]").each(function(e){$(this).css({overflow:"hidden",position:"relative",height:$(this).data("crop-image")})}),$("[data-toggle-slide]").click(function(){let e=$(this).data("toggle-slide");return $(e).slideToggle(),!1}),$("[data-dismiss=modal]").click(function(){return $(this).closest(".modal").modal("hide"),!1}),$("[data-width]").each(function(){$(this).css({width:$(this).data("width")})}),$("[data-height]").each(function(){$(this).css({height:$(this).data("height")})}),$(".chocolat-parent").length&&jQuery().Chocolat&&$(".chocolat-parent").Chocolat(),$(".sortable-card").length&&jQuery().sortable&&$(".sortable-card").sortable({handle:".card-header",opacity:.8,tolerance:"pointer"}),jQuery().daterangepicker&&($(".datepicker").length&&$(".datepicker").daterangepicker({locale:{format:"YYYY-MM-DD"},singleDatePicker:!0}),$(".datetimepicker").length&&$(".datetimepicker").daterangepicker({locale:{format:"YYYY-MM-DD HH:mm"},singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0}),$(".daterange").length&&$(".daterange").daterangepicker({locale:{format:"YYYY-MM-DD"},drops:"down",opens:"right"})),jQuery().timepicker&&$(".timepicker").length&&$(".timepicker").timepicker({icons:{up:"fas fa-chevron-up",down:"fas fa-chevron-down"}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s),s}:e(jQuery)}(function(e){var t=e(document),s=e(window),a=["a","e","i","o","u","n","c","y"],i=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],o=function(t,s){var a=this;a.element=t,a.$element=e(t),a.state={multiple:!!a.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},a.eventTriggers={open:a.open,close:a.close,destroy:a.destroy,refresh:a.refresh,init:a.init},a.init(s)};o.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=i.length;t--;)e=e.toLowerCase().replace(i[t],a[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,function(e,s,a){return a&&t[1]?t[1][a]:t[s]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,s){var a=s.element,i=s.options["on"+t],o=[a].concat([].slice.call(arguments).slice(1));e.isFunction(i)&&i.apply(a,o),e(a).trigger("selectric-"+this.toDash(t),o)},arrayToClassname:function(t){var s=e.grep(t,function(e){return!!e});return e.trim(s.join(" "))}},init:function(t){var s=this;if(s.options=e.extend(!0,{},e.fn.selectric.defaults,s.options,t),s.utils.triggerCallback("BeforeInit",s),s.destroy(!0),s.options.disableOnMobile&&s.utils.isMobile())s.disableOnMobile=!0;else{s.classes=s.getClassNames();var a=e("<input/>",{class:s.classes.input,readonly:s.utils.isMobile()}),i=e("<div/>",{class:s.classes.items,tabindex:-1}),o=e("<div/>",{class:s.classes.scroll}),n=e("<div/>",{class:s.classes.prefix,html:s.options.arrowButtonMarkup}),l=e("<span/>",{class:"label"}),r=s.$element.wrap("<div/>").parent().append(n.prepend(l),i,a),d=e("<div/>",{class:s.classes.hideselect});s.elements={input:a,items:i,itemsScroll:o,wrapper:n,label:l,outerWrapper:r},s.options.nativeOnMobile&&s.utils.isMobile()&&(s.elements.input=void 0,d.addClass(s.classes.prefix+"-is-native"),s.$element.on("change",function(){s.refresh()})),s.$element.on(s.eventTriggers).wrap(d),s.originalTabindex=s.$element.prop("tabindex"),s.$element.prop("tabindex",-1),s.populate(),s.activate(),s.utils.triggerCallback("Init",s)}},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&s>0&&e.elements.outerWrapper.width(s),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,s=t.options.customClass,a={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(e,i){var o=s.prefix+i;a[i.toLowerCase()]=s.camelCase?o:t.utils.toDash(o)}),a.prefix=s.prefix,a},setLabel:function(){var t=this,s=t.options.labelBuilder;if(t.state.multiple){var a=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];a=0===a.length?[0]:a;var i=e.map(a,function(s){return e.grep(t.lookupItems,function(e){return e.index===s})[0]});i=e.grep(i,function(t){return i.length>1||0===i.length?""!==e.trim(t.value):t}),i=e.map(i,function(a){return e.isFunction(s)?s(a):t.utils.format(s,a)}),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries)).push(e.isFunction(s)?s({text:"..."}):t.utils.format(s,{text:"..."})):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))}else{var o=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(s)?s(o):t.utils.format(s,o))}},populate:function(){var t=this,s=t.$element.children(),a=t.$element.find("option"),i=a.filter(":selected"),o=a.index(i),n=0,l=t.state.multiple?[]:0;i.length>1&&t.state.multiple&&(o=[],i.each(function(){o.push(e(this).index())})),t.state.currValue=~o?o:l,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],s.length&&(s.each(function(s){var a=e(this);if(a.is("optgroup")){var i={element:a,label:a.prop("label"),groupDisabled:a.prop("disabled"),items:[]};a.children().each(function(s){var a=e(this);i.items[s]=t.getItemData(n,a,i.groupDisabled||a.prop("disabled")),t.lookupItems[n]=i.items[s],n++}),t.items[s]=i}else t.items[s]=t.getItemData(n,a,a.prop("disabled")),t.lookupItems[n]=t.items[s],n++}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,s,a){return{index:t,element:s,value:s.val(),className:s.prop("class"),text:s.html(),slug:e.trim(this.utils.replaceDiacritics(s.html())),alt:s.attr("data-alt"),selected:s.prop("selected"),disabled:a}},getItemsMarkup:function(t){var s=this,a="<ul>";return e.isFunction(s.options.listBuilder)&&s.options.listBuilder&&(t=s.options.listBuilder(t)),e.each(t,function(t,i){void 0!==i.label?(a+=s.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',s.utils.arrayToClassname([s.classes.group,i.groupDisabled?"disabled":"",i.element.prop("class")]),s.classes.grouplabel,i.element.prop("label")),e.each(i.items,function(e,t){a+=s.getItemMarkup(t.index,t)}),a+="</ul>"):a+=s.getItemMarkup(i.index,i)}),a+"</ul>"},getItemMarkup:function(t,s){var a=this,i=a.options.optionsItemBuilder,o={value:s.value,text:s.text,slug:s.slug,index:s.index};return a.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,a.utils.arrayToClassname([s.className,t===a.items.length-1?"last":"",s.disabled?"disabled":"",s.selected?"selected":""]),e.isFunction(i)?a.utils.format(i(s,this.$element,t),s):a.utils.format(i,o))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(".sl")},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(s){e(this).toggleClass(t.classes.hover,"mouseenter"===s.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===s.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())}),t.elements.wrapper.on("click.sl",function(e){t.state.opened?t.close():t.open(e)}),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",function(){t.elements.input.focus()}),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",e.proxy(t.handleKeys,t)).on("focusin.sl",function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",function(){t.elements.input.blur()}),t.options.openOnFocus&&!t.state.opened&&t.open(e)}).on("focusout.sl",function(){t.elements.outerWrapper.removeClass(t.classes.focus)}).on("input propertychange",function(){var s=t.elements.input.val(),a=new RegExp("^"+t.utils.escapeRegExp(s),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout(function(){t.elements.input.val("")},t.options.keySearchTimeout),s.length&&e.each(t.items,function(e,s){if(!s.disabled){if(a.test(s.text)||a.test(s.slug))return void t.highlight(e);if(s.alt)for(var i=s.alt.split("|"),o=0;o<i.length&&i[o];o++)if(a.test(i[o].trim()))return void t.highlight(e)}})})),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var s=this,a=t.which,i=s.options.keys,o=e.inArray(a,i.previous)>-1,n=e.inArray(a,i.next)>-1,l=e.inArray(a,i.select)>-1,r=e.inArray(a,i.open)>-1,d=s.state.highlightedIdx,c=o&&0===d||n&&d+1===s.items.length,u=0;if(13!==a&&32!==a||t.preventDefault(),o||n){if(!s.options.allowWrap&&c)return;o&&(u=s.utils.previousEnabledItem(s.lookupItems,d)),n&&(u=s.utils.nextEnabledItem(s.lookupItems,d)),s.highlight(u)}if(l&&s.state.opened)return s.select(d),void(s.state.multiple&&s.options.multiple.keepMenuOpen||s.close());r&&!s.state.opened&&s.open()},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.options.maxHeight,a=e.elements.items.outerWidth(),i=e.elements.wrapper.outerWidth()-(a-e.elements.items.width());!e.options.expandToItemText||i>a?e.finalWidth=i:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>s&&e.elements.items.height(s),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this;if(!0===e.options.forceRenderAbove)e.elements.outerWrapper.addClass(e.classes.above);else if(!0===e.options.forceRenderBelow)e.elements.outerWrapper.addClass(e.classes.below);else{var t=s.scrollTop(),a=s.height(),i=e.elements.outerWrapper.offset().top,o=i+e.elements.outerWrapper.outerHeight()+e.itemsHeight<=t+a,n=i-e.itemsHeight>t,l=!o&&n,r=!l;e.elements.outerWrapper.toggleClass(e.classes.above,l),e.elements.outerWrapper.toggleClass(e.classes.below,r)}},detectItemVisibility:function(t){var s=this,a=s.$li.filter("[data-index]");s.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var i=a.eq(t).outerHeight(),o=a[t].offsetTop,n=s.elements.itemsScroll.scrollTop(),l=o+2*i;s.elements.itemsScroll.scrollTop(l>n+s.itemsHeight?l-s.itemsHeight:o-i<n?o-i:n)},open:function(s){var a=this;if(a.options.nativeOnMobile&&a.utils.isMobile())return!1;a.utils.triggerCallback("BeforeOpen",a),s&&(s.preventDefault(),a.options.stopPropagation&&s.stopPropagation()),a.state.enabled&&(a.setOptionsDimensions(),e("."+a.classes.hideselect,"."+a.classes.open).children().selectric("close"),a.state.opened=!0,a.itemsHeight=a.elements.items.outerHeight(),a.itemsInnerHeight=a.elements.items.height(),a.elements.outerWrapper.addClass(a.classes.open),a.elements.input.val(""),s&&"focusin"!==s.type&&a.elements.input.focus(),setTimeout(function(){t.on("click.sl",e.proxy(a.close,a)).on("scroll.sl",e.proxy(a.isInViewport,a))},1),a.isInViewport(),a.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+a.classes.scroll,function(t){var s=t.originalEvent,i=e(this).scrollTop(),o=0;"detail"in s&&(o=-1*s.detail),"wheelDelta"in s&&(o=s.wheelDelta),"wheelDeltaY"in s&&(o=s.wheelDeltaY),"deltaY"in s&&(o=-1*s.deltaY),(i===this.scrollHeight-a.itemsInnerHeight&&o<0||0===i&&o>0)&&t.preventDefault()}),a.detectItemVisibility(a.state.selectedIdx),a.highlight(a.state.multiple?-1:a.state.selectedIdx),a.utils.triggerCallback("Open",a))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(".sl"),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)}),e.each(t.state.selectedIdx,function(e,s){t.lookupItems[s].selected=!0,t.$element.find("option").eq(s).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,s=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(s.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var s=this,a=s.$li.filter("[data-index]");if(s.utils.triggerCallback("BeforeSelect",s,t),void 0!==t&&-1!==t&&!s.lookupItems[t].disabled){if(s.state.multiple){s.state.selectedIdx=e.isArray(s.state.selectedIdx)?s.state.selectedIdx:[s.state.selectedIdx];var i=e.inArray(t,s.state.selectedIdx);-1!==i?s.state.selectedIdx.splice(i,1):s.state.selectedIdx.push(t),a.removeClass("selected").filter(function(t){return-1!==e.inArray(t,s.state.selectedIdx)}).addClass("selected")}else a.removeClass("selected").eq(s.state.selectedIdx=t).addClass("selected");s.state.multiple&&s.options.multiple.keepMenuOpen||s.close(),s.change(),s.utils.triggerCallback("Select",s,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData("selectric").removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(".sl").off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn.selectric=function(t){return this.each(function(){var s=e.data(this,"selectric");s&&!s.disableOnMobile?"string"==typeof t&&s[t]?s[t]():s.init(t):e.data(this,"selectric",new o(this,t))})},e.fn.selectric.defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:"selectric",camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}),("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(e){return function(){function t(t,s){return t||(t=n()),(r=e("#"+t.containerId)).length?r:(s&&(r=function(t){return(r=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),r}(t)),r)}function s(t){for(var s=r.children(),i=s.length-1;i>=0;i--)a(e(s[i]),t)}function a(t,s,a){var i=!(!a||!a.force)&&a.force;return!(!t||!i&&0!==e(":focus",t).length||(t[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){l(t)}}),0))}function i(e){d&&d(e)}function o(s){function a(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(t){var s=t&&!1!==h.closeMethod?h.closeMethod:h.hideMethod,a=t&&!1!==h.closeDuration?h.closeDuration:h.hideDuration,o=t&&!1!==h.closeEasing?h.closeEasing:h.hideEasing;if(!e(":focus",b).length||t)return clearTimeout(y.intervalId),b[s]({duration:a,easing:o,complete:function(){l(b),clearTimeout(g),h.onHidden&&"hidden"!==x.state&&h.onHidden(),x.state="hidden",x.endTime=new Date,i(x)}})}function d(){(h.timeOut>0||h.extendedTimeOut>0)&&(g=setTimeout(o,h.extendedTimeOut),y.maxHideTime=parseFloat(h.extendedTimeOut),y.hideEta=(new Date).getTime()+y.maxHideTime)}function p(){clearTimeout(g),y.hideEta=0,b.stop(!0,!0)[h.showMethod]({duration:h.showDuration,easing:h.showEasing})}function m(){var e=(y.hideEta-(new Date).getTime())/y.maxHideTime*100;w.width(e+"%")}var h=n(),f=s.iconClass||h.iconClass;if(void 0!==s.optionsOverride&&(h=e.extend(h,s.optionsOverride),f=s.optionsOverride.iconClass||f),!function(e,t){if(e.preventDuplicates){if(t.message===c)return!0;c=t.message}return!1}(h,s)){u++,r=t(h,!0);var g=null,b=e("<div/>"),v=e("<div/>"),C=e("<div/>"),w=e("<div/>"),$=e(h.closeHtml),y={intervalId:null,hideEta:null,maxHideTime:null},x={toastId:u,state:"visible",startTime:new Date,options:h,map:s};return s.iconClass&&b.addClass(h.toastClass).addClass(f),function(){if(s.title){var e=s.title;h.escapeHtml&&(e=a(s.title)),v.append(e).addClass(h.titleClass),b.append(v)}}(),function(){if(s.message){var e=s.message;h.escapeHtml&&(e=a(s.message)),C.append(e).addClass(h.messageClass),b.append(C)}}(),h.closeButton&&($.addClass(h.closeClass).attr("role","button"),b.prepend($)),h.progressBar&&(w.addClass(h.progressClass),b.prepend(w)),h.rtl&&b.addClass("rtl"),h.newestOnTop?r.prepend(b):r.append(b),function(){var e="";switch(s.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}b.attr("aria-live",e)}(),b.hide(),b[h.showMethod]({duration:h.showDuration,easing:h.showEasing,complete:h.onShown}),h.timeOut>0&&(g=setTimeout(o,h.timeOut),y.maxHideTime=parseFloat(h.timeOut),y.hideEta=(new Date).getTime()+y.maxHideTime,h.progressBar&&(y.intervalId=setInterval(m,10))),h.closeOnHover&&b.hover(p,d),!h.onclick&&h.tapToDismiss&&b.click(o),h.closeButton&&$&&$.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),h.onCloseClick&&h.onCloseClick(e),o(!0)}),h.onclick&&b.click(function(e){h.onclick(e),o()}),i(x),h.debug&&console&&console.log(x),b}}function n(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},m.options)}function l(e){r||(r=t()),e.is(":visible")||(e.remove(),e=null,0===r.children().length&&(r.remove(),c=void 0))}var r,d,c,u=0,p={error:"error",info:"info",success:"success",warning:"warning"},m={clear:function(e,i){var o=n();r||t(o),a(e,o,i)||s(o)},remove:function(s){var a=n();return r||t(a),s&&0===e(":focus",s).length?void l(s):void(r.children().length&&r.remove())},error:function(e,t,s){return o({type:p.error,iconClass:n().iconClasses.error,message:e,optionsOverride:s,title:t})},getContainer:t,info:function(e,t,s){return o({type:p.info,iconClass:n().iconClasses.info,message:e,optionsOverride:s,title:t})},options:{},subscribe:function(e){d=e},success:function(e,t,s){return o({type:p.success,iconClass:n().iconClasses.success,message:e,optionsOverride:s,title:t})},version:"2.1.4",warning:function(e,t,s){return o({type:p.warning,iconClass:n().iconClasses.warning,message:e,optionsOverride:s,title:t})}};return m}()});
